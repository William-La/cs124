(this.webpackJsonplab3=this.webpackJsonplab3||[]).push([[0],{131:function(e,t,a){e.exports=a(156)},136:function(e,t,a){},137:function(e,t,a){},138:function(e,t,a){},148:function(e,t,a){},149:function(e,t,a){},150:function(e,t,a){},151:function(e,t,a){},152:function(e,t,a){},156:function(e,t,a){"use strict";a.r(t);var n=a(1),l=a.n(n),r=a(48),i=a.n(r),o=(a(136),a(14)),c=(a(137),a(224)),u=a(220),d=a(226),s=a(215),m=a(38),p=a(227),b=a(216),E=a(228),h=a(115),f=a.n(h),g=a(222),v=(a(138),a(223)),y=a(225),w=a(214),x={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4};function k(e){var t=Object(n.useState)(!1),a=Object(o.a)(t,2),l=a[0],r=a[1],i=function(){return r(!1)},u=Object(n.useState)(""),d=Object(o.a)(u,2),s=d[0],m=d[1],p=Object(n.useRef)(null);return n.createElement("div",null,n.createElement(v.a,{"aria-label":"Create new list",onClick:function(){return r(!0)},style:{color:"black"}},"Create New List"),n.createElement(w.a,{open:l,onClose:i,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description"},n.createElement(c.a,{sx:x},n.createElement(y.a,{id:"modal-modal-title",variant:"h6",component:"h2"},"Create a New List"),n.createElement(y.a,{id:"modal-modal-description",sx:{mt:2}},"Please provide a list name:"),n.createElement("form",{onSubmit:function(){e.onNewTab(s),m(""),i()}},n.createElement("input",{id:"tabInputText",type:"text",maxlength:"20",placeholder:e.placeholder,ref:p,value:s,onChange:function(e){m(e.target.value)}})," ",n.createElement("br",null),n.createElement("input",{id:"submitButton",type:"submit",value:"Create New List"}),n.createElement("input",{type:"button",id:"closeButton",onClick:i,value:"Cancel"})))))}var O={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4};function T(e){var t=Object(n.useState)(!1),a=Object(o.a)(t,2),l=a[0],r=a[1],i=function(){return r(!1)},u=Object(n.useState)(""),d=Object(o.a)(u,2),s=d[0],m=d[1],p=Object(n.useRef)(null);return n.createElement("div",null,n.createElement(v.a,{"aria-label":"Share list",onClick:function(){return r(!0)},style:{color:"black"}},"Share List"),n.createElement(w.a,{open:l,onClose:i,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description"},n.createElement(c.a,{sx:O},n.createElement(y.a,{id:"modal-modal-title",variant:"h6",component:"h2"},"Share List"),n.createElement(y.a,{id:"modal-modal-description",sx:{mt:2}},"Please provide an email to share with:"),n.createElement("form",{onSubmit:function(){e.handleShareTab(s),m(""),i()}},n.createElement("input",{id:"inputText",type:"text",placeholder:e.placeholder,ref:p,value:s,onChange:function(e){m(e.target.value)}})," ",n.createElement("br",null),n.createElement("input",{id:"submitButton",type:"submit",value:"Share List"}),n.createElement("input",{type:"button",id:"closeButton",onClick:i,value:"Cancel"})))))}function C(e){var t=Object(m.a)();return n.createElement(g.a,{theme:t},n.createElement(c.a,{sx:{width:"100vw"}},n.createElement("div",{class:"headerUI"},n.createElement(k,{id:"tabModal",onNewTab:e.handleNewTab}),"0"!==e.tab&&e.currentTab&&e.user.uid===e.currentTab.owner&&n.createElement(T,{id:"shareModal",handleShareTab:e.handleShareTab}),n.createElement("div",{class:"sharedWith"},"0"!==e.tab&&e.currentTab?n.createElement(n.Fragment,null,n.createElement("p",null,"Owner: ",e.currentTab.sharedWith[0]),e.currentTab.sharedWith.length>1?n.createElement(n.Fragment,null,n.createElement("p",{id:"sharedText"},"Shared With: "),e.currentTab.sharedWith.slice(1,e.currentTab.sharedWith.length).map((function(e){return n.createElement("p",null,e)}))):n.createElement("p",{id:"sharedText"},"No Shared Users")):n.createElement(n.Fragment,null))),n.createElement(p.a,{position:"static"},n.createElement(b.a,{value:e.tab,onChange:function(t,a){e.handleTab(a)},indicatorColor:"primary",textColor:"inherit",variant:"scrollable",scrollButtons:"auto",TabIndicatorProps:{style:{background:"black"}},"aria-label":"Select List"},e.tabs.map((function(t){return n.createElement(E.a,{key:t.tabId,icon:n.createElement("button",{class:"tab-delete-button","aria-label":"delete "+t.title,type:"submit",onKeyPress:function(){return e.handleDeleteTab(t.tabId)}},n.createElement(f.a,{role:"button",id:t.tabId,onClick:function(){return e.handleDeleteTab(t,t.owner)}})),"aria-label":t.title,role:"button",label:t.title,id:"full-width-tab-"+t.tabId,"aria-controls":"tab-"+t.tabId,value:t.tabId})}))))))}var j={root:{paddingTop:"170px",transform:"scale(1.5)"}};function S(e){return e.charAt(0).toUpperCase()+e.slice(1)}var I=function(e){function t(e,t,a,n,r){return l.a.createElement("div",{class:"dropdown",style:j.root},l.a.createElement(c.a,{sx:{minWidth:120}},l.a.createElement(d.a,{fullWidth:!0},l.a.createElement(u.a,{variant:"standard",htmlFor:"uncontrolled-native"},e),l.a.createElement(s.a,{onChange:function(e){return r(e.target.value)},defaultValue:0,inputProps:{type:"view",id:"uncontrolled-native"}},l.a.createElement("option",{value:t},S(t)),l.a.createElement("option",{value:a},S(a)),l.a.createElement("option",{value:n},S(n))))))}return l.a.createElement("div",null,l.a.createElement("div",{class:"header"},l.a.createElement("div",{role:"group",class:"title","aria-label":"To Do"},l.a.createElement("h1",{id:"title"},"To do")),l.a.createElement("div",{class:"view"},t("View","all","completed","uncompleted",e.view)),l.a.createElement("div",{class:"sort"},t("Sort","date","title","priority",e.sort)),l.a.createElement(C,e)))},L=a(6),W=a(107),B=(a(148),a(149),a(116)),D=a.n(B),P=function(){return l.a.createElement(D.a,{width:window.innerWidth,height:window.innerHeight,numberOfPieces:200,recycle:!1})},U=a(117),N=a.n(U);var z=function(e){return l.a.createElement("div",null,l.a.createElement("button",{"aria-pressed":e.completed,"aria-label":(t=e.completed,t?"uncomplete task":"complete task"),role:"button",class:"todo-checkbox",onClick:e.onCompleted,style:{backgroundColor:e.priorityColor}},e.completed?l.a.createElement("div",{class:"completed"},"  ",l.a.createElement(P,null)," ",l.a.createElement(N.a,{id:"CheckIcon"})):l.a.createElement("div",{class:"uncompleted"})));var t},F=(a(150),a(18)),M=a(208),V=a(217),A=a(219),R=a(119),K=a.n(R),H=a(120),G=a.n(H),Y=a(118),q=a.n(Y),J=(a(151),{position:"absolute",top:"50%",left:"50%",transform:"scale(1.4)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4,marginLeft:"-215px"});function Q(e){var t=Object(n.useState)(e.title),a=Object(o.a)(t,2),r=a[0],i=a[1],u=Object(n.useState)(e.priority),d=Object(o.a)(u,2),s=d[0],m=d[1],p=Object(n.useRef)(null);return l.a.createElement(w.a,{open:e.open,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description"},l.a.createElement(c.a,{sx:J},l.a.createElement(y.a,{id:"modal-modal-title",variant:"h5",component:"h2"},e.modalText),l.a.createElement("form",{onSubmit:function(){e.handleAction(r,s),e.newItem&&(i(""),m("2"))}},l.a.createElement("label",null,l.a.createElement("input",{id:"inputText",type:"text",maxlength:"20",placeholder:e.placeholder,ref:p,value:r,onChange:function(e){i(e.target.value)}})),l.a.createElement("br",null),l.a.createElement(y.a,{id:"modal-modal-priority",variant:"h5",component:"h2"},"Please select a Priority"),l.a.createElement("input",{id:"priValueHigh",name:"priority",type:"radio",value:"3",checked:"3"===s,onChange:function(e){return m(e.currentTarget.value)}}),l.a.createElement("label",{for:"priValueHigh"},"High"),l.a.createElement("br",null),l.a.createElement("input",{id:"priValueMedium",name:"priority",type:"radio",value:"2",checked:"2"===s,onChange:function(e){return m(e.currentTarget.value)}}),l.a.createElement("label",{for:"priValueMedium"},"Medium"),l.a.createElement("br",null),l.a.createElement("input",{id:"priValueLow",name:"priority",type:"radio",value:"1",checked:"1"===s,onChange:function(e){e.preventDefault(),m(e.currentTarget.value)}}),l.a.createElement("label",{for:"priValueLow"},"Low"),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("input",{id:"submitButton",type:"submit",value:e.submitText}),l.a.createElement("input",{type:"button",id:"closeButton",onClick:e.handleClose,value:"Cancel"}))))}var X=Object(F.a)((function(e){return l.a.createElement(V.a,Object.assign({elevation:0,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"}},e))}))((function(e){var t=e.theme;return{"& .MuiPaper-root":{borderRadius:6,minWidth:180,color:"light"===t.palette.mode?"rgb(55, 65, 81)":t.palette.grey[300],boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px","& .MuiMenu-list":{padding:"4px 0"},"& .MuiMenuItem-root":{"& .MuiSvgIcon-root":{fontSize:18,color:t.palette.text.secondary,marginRight:t.spacing(1.5)},"&:active":{backgroundColor:Object(M.a)(t.palette.primary.main,t.palette.action.selectedOpacity)}}}}}));function Z(e){var t=Object(n.useState)(!1),a=Object(o.a)(t,2),r=a[0],i=a[1],c=function(){return i(!1)},u=l.a.useState(null),d=Object(o.a)(u,2),s=d[0],m=d[1],p=Boolean(s),b=function(){m(null)};return l.a.createElement("div",null,l.a.createElement(v.a,{id:"demo-customized-button","aria-controls":"demo-customized-menu","aria-haspopup":"true","aria-expanded":p?"true":void 0,variant:"contained",disableElevation:!0,onClick:function(e){m(e.currentTarget)},endIcon:l.a.createElement(q.a,null)}),l.a.createElement(X,{id:"demo-customized-menu",MenuListProps:{"aria-labelledby":"demo-customized-button"},anchorEl:s,open:p,onClose:b},l.a.createElement(A.a,{onClick:function(){i(!0),b()},disableRipple:!0},l.a.createElement(K.a,null),"Edit"),l.a.createElement(A.a,{onClick:function(){e.onDeleteTask(),b()},disableRipple:!0},l.a.createElement(G.a,null),"Delete")),l.a.createElement(Q,{open:r,title:e.title,priority:e.priority,modalText:"Please edit task",handleAction:function(t,a){e.onEdit(e.id,"title",t),e.onEdit(e.id,"priority",a),c()},handleClose:c,submitText:"Update Task",closeText:"Cancel"}))}function _(e){return"3"===e?"rgba(167,38,8, 0.3)":"2"===e?"rgba(236,154,41, 0.3)":"rgba(84,140,47, 0.3)"}var $=function(e){return l.a.createElement("div",null,l.a.createElement("div",{class:"todo-task",id:e.id},l.a.createElement(z,{"aria-label":!e.completed,priorityColor:_(e.priority),completed:e.completed,onCompleted:function(){return e.onEdit(e.id,"completed",!e.completed)}}),l.a.createElement("div",{class:"todo-item",role:"text",style:{backgroundColor:_(e.priority)}},e.completed?l.a.createElement("p",{label:"aksdaksdjaksjd",role:"text",class:"task-text",id:"complete"},e.title):l.a.createElement("p",{"aria-label":e.title,role:"text",class:"task-text"},e.title),l.a.createElement("div",{class:"todo-edit"},l.a.createElement(Z,{class:"dropdown-bar",priority:e.priority,id:e.id,title:e.title,onDeleteTask:function(){return e.onDeleteTask(e.id)},onEdit:e.onEdit})))))},ee=a(122),te=a.n(ee),ae=a(121),ne=a.n(ae),le=(a(152),a(87)),re=a(51),ie=a(89),oe={fontSize:"100px","@media (max-width: 686px)":{fontSize:"100px !important"}};re.a.initializeApp({apiKey:"AIzaSyDaolr_3LqraFXNZYmnYQUe7nDwsfmSeKc",authDomain:"cs124-5bd85.firebaseapp.com",projectId:"cs124-5bd85",storageBucket:"cs124-5bd85.appspot.com",messagingSenderId:"685729994391",appId:"1:685729994391:web:e906e2c8b867558397fbd2"});var ce=re.a.firestore();var ue=function(e){var t=Object(n.useState)(!1),a=Object(o.a)(t,2),r=a[0],i=a[1],c=function(){return i(!0)},u=function(){return i(!1)},d=function(){switch(e.sort){case"priority":return ce.collection("william-la-tab").doc(e.tab).collection("william-la-tasks").orderBy(e.sort,"desc");default:return ce.collection("william-la-tab").doc(e.tab).collection("william-la-tasks").orderBy(e.sort,"asc")}}(),s=Object(ie.a)(d),m=Object(o.a)(s,3),p=m[0],b=m[1],E=m[2],h=null;function f(e){e.map((function(e){return g(e.id)}))}function g(t){ce.collection("william-la-tab").doc(e.tab).collection("william-la-tasks").doc(t).delete()}function v(t,a,n){ce.collection("william-la-tab").doc(e.tab).collection("william-la-tasks").doc(t).update(Object(L.a)({},a,n))}return p&&(h=function(){switch(e.view){case"completed":return p.docs.filter((function(e){return e.data().completed})).map((function(e){return Object(W.a)({},e.data())}));case"uncompleted":return p.docs.filter((function(e){return!e.data().completed})).map((function(e){return Object(W.a)({},e.data())}));default:return p.docs.map((function(e){return e.data()}))}}().filter((function(t){return t.tabNum===e.tab}))),console.log(E),l.a.createElement("div",null,b&&l.a.createElement("h1",null,"Task Loading"),l.a.createElement("div",{class:"todo-body"},h&&l.a.createElement(l.a.Fragment,null,h.map((function(e){return l.a.createElement($,Object.assign({},e,{key:e.id,onEdit:v,onDeleteTask:g}))}))),"completed"===e.view?l.a.createElement("button",{class:"aria-button","aria-label":"delete tasks",type:"submit",onKeyPress:function(){return f(h)}},l.a.createElement(ne.a,{style:oe,onClick:function(){return f(h)}})):l.a.createElement("button",{class:"aria-button","aria-label":"new tasks",type:"submit",onKeyPress:c},l.a.createElement(te.a,{style:oe,onClick:c})),l.a.createElement("div",null,l.a.createElement(Q,{open:r,placeholder:"Enter a new task",modalText:"Please enter a new task",submitText:"Create Task",closeText:"Cancel",handleAction:function(t,a){!function(t,a){var n=Object(le.a)();ce.collection("william-la-tab").doc(e.tab).collection("william-la-tasks").doc(n).set({id:n,title:t,completed:!1,priority:a,date:Date().toLocaleString(),tabNum:e.tab,owner:e.user.uid})}(t,a),u()},handleClose:u,title:"",priority:"2",newItem:!0}))))},de={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4};function se(e){var t=Object(n.useState)(!1),a=Object(o.a)(t,2),l=a[0],r=a[1],i=function(){return r(!1)},u=Object(n.useState)(""),d=Object(o.a)(u,2),s=d[0],m=d[1],p=Object(n.useRef)(null),b=Object(n.useState)(""),E=Object(o.a)(b,2),h=E[0],f=E[1],g=Object(n.useRef)(null);return n.createElement("div",null,n.createElement(v.a,{"aria-label":"Sign Up",onClick:function(){return r(!0)},style:{color:"black"}},e.text),n.createElement(w.a,{open:l,onClose:i,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description"},n.createElement(c.a,{sx:de},n.createElement(y.a,{id:"modal-modal-title",variant:"h6",component:"h2"},e.text),n.createElement(y.a,{id:"modal-modal-description",sx:{mt:2}},"Email:"),n.createElement("form",{onSubmit:function(){e.login(s,h),m(""),f(""),i()}},n.createElement("input",{id:"emailText",type:"text",placeholder:e.placeholder,ref:p,value:s,onChange:function(e){m(e.target.value)}})," ",n.createElement("br",null),n.createElement(y.a,{id:"modal-modal-description",sx:{mt:2}},"Password:"),n.createElement("input",{id:"passwordText",type:"password",placeholder:e.placeholder,ref:g,value:h,onChange:function(e){f(e.target.value)}})," ",n.createElement("br",null),n.createElement("input",{id:"submitButton",type:"submit",value:e.buttonText}),n.createElement("input",{type:"button",id:"closeButton",onClick:i,value:"Cancel"})))))}var me=a(92);re.a.initializeApp({apiKey:"AIzaSyDaolr_3LqraFXNZYmnYQUe7nDwsfmSeKc",authDomain:"cs124-5bd85.firebaseapp.com",projectId:"cs124-5bd85",storageBucket:"cs124-5bd85.appspot.com",messagingSenderId:"685729994391",appId:"1:685729994391:web:e906e2c8b867558397fbd2"});var pe=re.a.firestore(),be=re.a.auth(),Ee=new re.a.auth.GoogleAuthProvider;function he(){var e=Object(me.c)(be),t=Object(o.a)(e,4),a=t[0],n=t[1],r=t[2],i=t[3];return n?l.a.createElement("div",null,"Unexpectedly signed in already"):r?l.a.createElement("p",null,"Logging in\u2026"):l.a.createElement("div",{class:"sign-in"},l.a.createElement("div",{class:"banner"},l.a.createElement("h1",{id:"title"}," Todo "),i&&l.a.createElement("p",null,'"Error logging in: " ',i.message),l.a.createElement("div",{class:"loginButton bouncy",style:{animationDelay:"0.07s",marginTop:"200px",display:"inherit"}},l.a.createElement(se,{login:a,text:"Login With Email/PW",buttonText:"Login"})),l.a.createElement("button",{class:"signinButton bouncy",style:{animationDelay:"0.14s",marginTop:"200px",display:"inherit"},onClick:function(){return be.signInWithPopup(Ee)}},"LOGIN WITH GOOGLE")))}function fe(){var e=Object(me.b)(be),t=Object(o.a)(e,4),a=t[0],n=t[1],r=t[2],i=t[3];return n?l.a.createElement("div",null,"Unexpectedly signed in already"):r?l.a.createElement("p",null,"Signing up\u2026"):l.a.createElement("div",{class:"testUser"},i&&l.a.createElement("p",null,'"Error signing up: " ',i.message),l.a.createElement("div",{class:"signupButton bouncy",style:{animationDelay:"0.21s",marginTop:" -100px"}},l.a.createElement(se,{login:a,text:"Sign Up With Email/PW",buttonText:"Sign Up"})))}function ge(e){var t=Object(n.useState)("0"),a=Object(o.a)(t,2),r=a[0],i=a[1],c=Object(n.useState)("all"),u=Object(o.a)(c,2),d=u[0],s=u[1],m=Object(n.useState)("date"),p=Object(o.a)(m,2),b=p[0],E=p[1],h=pe.collection("william-la-tab").where("sharedWith","array-contains",e.user.email),f=Object(ie.a)(h),g=Object(o.a)(f,3),v=g[0],y=g[1],w=g[2];function x(e){i(e)}var k=null;return v&&(k=v.docs.map((function(e){return e.data()}))),w&&console.log(w.message),l.a.createElement("div",null,k&&l.a.createElement(I,{view:function(e){s(e)},sort:function(e){E(e)},tab:r,handleTab:x,tabs:k,handleDeleteTab:function(t,a){e.user.uid!==a?function(e,t){var a=pe.collection("william-la-tab").doc(t.tabId),n=t.sharedWith.filter((function(t){return t!==e}));console.log("newSharedWith: "),console.log(n),a.update({sharedWith:n}),window.alert("Removed user associated with email: "+e+" from "+t.title)}(e.user.email,t):(x("0"),pe.collection("william-la-tab").doc(t.tabId).delete())},handleNewTab:function(t){var a=Object(le.a)();pe.collection("william-la-tab").doc(a).set({tabId:a,title:t,owner:e.user.uid,sharedWith:[e.user.email]})},handleShareTab:function(e){pe.collection("william-la-tab").doc(r).update({sharedWith:re.a.firestore.FieldValue.arrayUnion(e)}),window.alert("Shared list with user associated with email: "+e+"\n To remove user, please re-create your list.")},user:e.user,currentTab:k.filter((function(e){return e.tabId===r}))[0]}),y&&l.a.createElement("h1",null,"Loading"),"0"===r?l.a.createElement("h1",null,"Create or select a list!"):l.a.createElement(ue,{view:d,sort:b,tab:r,db:pe,user:e.user}))}var ve=function(e){var t=Object(me.a)(be),a=Object(o.a)(t,3),n=a[0],r=a[1],i=a[2];return r?l.a.createElement("p",null,"Checking..."):n?l.a.createElement("div",null,n.displayName||n.email,l.a.createElement(ge,Object.assign({},e,{user:n})),l.a.createElement("button",{class:"logoutButton",type:"button",onClick:function(){return be.signOut()}},"Logout"),!n.emailVerified&&l.a.createElement("button",{class:"verifyButton",type:"button",onClick:function(){be.currentUser.sendEmailVerification(),window.alert("email sent")}},"Verify email")):l.a.createElement(l.a.Fragment,null,i&&l.a.createElement("p",null,"Error App: ",i.message),l.a.createElement(he,{key:"Sign In"}),l.a.createElement(fe,{key:"Sign Up"}))},ye=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,231)).then((function(t){var a=t.getCLS,n=t.getFID,l=t.getFCP,r=t.getLCP,i=t.getTTFB;a(e),n(e),l(e),r(e),i(e)}))};i.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(ve,null)),document.getElementById("root")),ye()}},[[131,1,2]]]);
//# sourceMappingURL=main.d4ffa0cf.chunk.js.map